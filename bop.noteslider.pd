#N canvas 18 48 1022 597 10;
#X obj 711 299 r \$0-scalelist;
#X obj 879 388 s \$0-getscale;
#X obj 879 358 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 879 298 r from-scale-id-\$0;
#X obj 879 328 change;
#X obj 711 339 list prepend notelist;
#X obj 711 371 list trim;
#X obj 110 120 bop.p.param \$0 noteslider;
#X obj 110 150 bop.p.number \$0 octaves;
#X obj 110 170 bop.p.number \$0 scale;
#X obj 110 191 bop.p.enum \$0 scale;
#X obj 109 562 s \$0-set-scale-enum;
#X obj 109 479 loadbang;
#X msg 109 505 major-pentatonic minor-pentatonic blues ionian dorian phygian lydian mixolydian aeolian locrian lydian-dominant diminished whole-tone altered, f 41;
#N canvas 525 37 935 829 notelist 1;
#X obj 399 260 change;
#X obj 399 203 int;
#X text 409 224 < current note, f 10;
#X obj 582 212 > 0;
#X obj 582 245 * 127;
#X text 623 245 < current velocity;
#X msg 202 390 0 2 4 7 9 12 14 16 19 21 24 26 28 31 33 36 38 40 43 45, f 19;
#X obj 399 295 t b f, f 13;
#X obj 484 769 pack, f 5;
#X msg 601 884 60;
#X text 630 880 < store last note to send note off on next note, f 18;
#X msg 582 722 0;
#X obj 484 807 t l b, f 20;
#X obj 613 313 sel 0;
#X obj 613 282 change;
#X text 661 309 < send note off when under thresh, f 18;
#X obj 613 344 s \$0-noteoff;
#X text 460 637 < scale offset;
#X obj 484 834 s \$0-notepairout;
#X obj 624 846 r \$0-noteoff;
#N canvas 687 194 783 728 scalemaker 0;
#X obj 241 147 inlet;
#X obj 227 817 outlet;
#X msg 280 437 0 2 4 7 9;
#X obj 311 322 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 538 665 set;
#X floatatom 372 459 5 0 0 0 - - - 0;
#X obj 414 449 + 12;
#X obj 311 379 t b b;
#X obj 355 651 + 0;
#X msg 372 377 set 0;
#X obj 549 321 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X text 54 438 scale as semi-tone steps >;
#X msg 227 777 0 2 4 7 9 12 14 16 19 21 24 26 28 31 33 36 38 40 43 45;
#X floatatom 241 179 5 0 0 0 - - - 0;
#X obj 241 205 t b f b, f 52;
#X msg 415 479 set \$1;
#X msg 355 679 add2 \$1;
#X obj 121 316 list prepend set;
#X obj 121 346 list trim;
#X obj 310 284 until;
#X obj 278 576 bop.p.iter;
#N canvas 75 167 1325 640 scales 0;
#X obj 182 10 inlet;
#X obj 812 556 outlet;
#X msg 182 138 0 2 4 7 9;
#X msg 267 138 0 3 5 7 10;
#X msg 352 138 0 3 5 6 7 10;
#X obj 470 138 sel ionian dorian phrygian lydian mixolydian aeolian locrain, f 61;
#X obj 182 100 sel major-pentatonic minor-pentatonic blues;
#X msg 470 186 0 2 4 5 7 9 11;
#X msg 521 216 0 2 3 5 7 9 10;
#X msg 573 246 0 1 3 5 7 8 10;
#X msg 625 275 0 2 4 6 7 9 11;
#X msg 677 305 0 2 4 5 7 9 10;
#X msg 729 335 0 2 3 5 7 8 10;
#X msg 781 365 0 1 3 5 6 8 10;
#X obj 890 209 sel lydian-dominant diminished whole-tone altered;
#X msg 890 243 0 2 4 6 7 9 10;
#X msg 962 276 0 2 3 5 6 8 9 11;
#X msg 1035 310 0 2 4 6 8 10;
#X msg 1108 339 0 1 3 4 6 8 10;
#X connect 0 0 6 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 5 1 8 0;
#X connect 5 2 9 0;
#X connect 5 3 10 0;
#X connect 5 4 11 0;
#X connect 5 5 12 0;
#X connect 5 6 13 0;
#X connect 5 7 14 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 6 2 4 0;
#X connect 6 3 5 0;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X connect 13 0 1 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 14 2 17 0;
#X connect 14 3 18 0;
#X connect 15 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 1 0;
#X restore 122 233 pd scales;
#X obj 81 47 inlet;
#X obj 81 113 t b s, f 8;
#X connect 0 0 13 0;
#X connect 2 0 20 0;
#X connect 3 0 7 0;
#X connect 4 0 12 0;
#X connect 5 0 6 0;
#X connect 5 0 8 1;
#X connect 6 0 15 0;
#X connect 7 0 2 0;
#X connect 7 1 5 0;
#X connect 8 0 16 0;
#X connect 9 0 5 0;
#X connect 10 0 4 0;
#X connect 10 0 9 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 14 0 12 0;
#X connect 14 1 19 0;
#X connect 14 2 10 0;
#X connect 15 0 5 0;
#X connect 16 0 12 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X connect 19 0 3 0;
#X connect 20 0 8 0;
#X connect 21 0 17 0;
#X connect 22 0 23 0;
#X connect 23 0 13 0;
#X connect 23 1 21 0;
#X restore 202 152 pd scalemaker;
#X obj 241 241 s \$0-numnotes;
#X obj 510 69 r \$0-numnotes;
#X text 87 390 scale as semi-tone steps >, f 17;
#X obj 423 664 t f f b, f 21;
#X obj 399 163 t f f, f 31;
#X obj 202 187 t b l l;
#X obj 423 637 + 60;
#X msg 423 835 set \$1;
#X msg 582 662 set \$1;
#X obj 280 87 int;
#X obj 280 117 change;
#X obj 221 270 list prepend set;
#X obj 221 301 list trim;
#X obj 241 217 list length;
#X obj 201 536 list store;
#X msg 600 939 \$1 0;
#X obj 399 132 bop.p.scale 0 1 0 5;
#X obj 422 609 bop.p.nth;
#X obj 399 32 r \$0-get-noteslider;
#X obj 280 57 r \$0-get-octaves;
#X obj 202 20 r \$0-get-scale-enum;
#X obj 600 987 outlet;
#X obj 850 123 r \$0-get-noteslider;
#X obj 857 156 r \$0-get-scale;
#X obj 857 187 r \$0-get-octaves;
#X obj 950 155 r \$0-get-scale-enum;
#X text 697 702 NOTE ON NOT WORKING;
#X obj 547 938 inlet;
#X obj 857 223 r \$0-get-root;
#X text 534 119 scale slider to number of notes in scale, f 26;
#X connect 0 0 7 0;
#X connect 1 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 14 0;
#X connect 4 0 29 0;
#X connect 6 0 35 0;
#X connect 7 0 6 0;
#X connect 7 1 38 1;
#X connect 8 0 12 0;
#X connect 9 0 36 0;
#X connect 11 0 8 1;
#X connect 12 0 18 0;
#X connect 12 1 9 0;
#X connect 13 0 16 0;
#X connect 14 0 13 0;
#X connect 19 0 9 0;
#X connect 20 0 26 0;
#X connect 22 0 37 4;
#X connect 24 0 28 0;
#X connect 24 1 8 0;
#X connect 24 2 11 0;
#X connect 25 0 1 0;
#X connect 25 1 3 0;
#X connect 26 0 6 0;
#X connect 26 1 32 0;
#X connect 26 2 34 0;
#X connect 27 0 24 0;
#X connect 28 0 9 0;
#X connect 29 0 11 0;
#X connect 30 0 31 0;
#X connect 31 0 20 1;
#X connect 32 0 33 0;
#X connect 33 0 6 0;
#X connect 34 0 21 0;
#X connect 35 0 38 0;
#X connect 36 0 42 0;
#X connect 37 0 25 0;
#X connect 38 0 27 0;
#X connect 39 0 37 0;
#X connect 40 0 30 0;
#X connect 41 0 20 0;
#X connect 48 0 42 0;
#X restore 367 337 pd notelist;
#X obj 807 201 savestate, f 17;
#X obj 806 174 bop.p.autosave \$0;
#X text 647 122 Other messages get picked up in the bop.p.param \, bop.p.toggle \, and bop.p.number objects, f 20;
#X obj 354 109 inlet~, f 12;
#X text 804 121 ... and are stored in here when the parent patch is saved, f 22;
#X obj 423 209 outlet;
#X text 470 207 MIDI and messages dump out of right, f 13;
#X obj 354 209 outlet~;
#X text 305 189 Signal out of left, f 9;
#X text 344 85 Signal \, MIDI \, and messages in left, f 36;
#X obj 367 304 r \$0-midi-in;
#X obj 367 366 s \$0-midi-out;
#X obj 109 247 bop.p.number \$0 root;
#X obj 423 153 bop.p.inout \$0;
#X obj 109 390 loadbang;
#X obj 109 438 s \$0-set-octaves;
#X msg 109 417 range 1 4;
#X connect 0 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X connect 14 0 26 0;
#X connect 15 0 16 1;
#X connect 15 1 16 0;
#X connect 16 0 15 0;
#X connect 18 0 22 0;
#X connect 18 1 28 0;
#X connect 25 0 14 0;
#X connect 28 0 20 0;
#X connect 29 0 31 0;
#X connect 31 0 30 0;
#X coords 0 -1 1 1 166 115 1 100 100;
