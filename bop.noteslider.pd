#N canvas 0 37 1213 842 10;
#X obj 824 128 outlet note;
#X obj 438 651 change;
#X obj 438 594 int;
#X text 660 489 < number of notes in scale;
#X text 448 615 < current note, f 10;
#X floatatom 549 492 5 0 0 0 - - - 0;
#X obj 621 603 > 0;
#X obj 621 636 * 127;
#X text 662 636 < current velocity;
#X msg 241 781 0 1 3 4 6 8 10 12 13 15 16 18 20 22 24 25 27 28 30 32 34 36 37 39 40 42 44 46, f 19;
#X obj 438 686 t b f, f 13;
#X obj 523 1160 pack, f 5;
#X msg 640 1275 60;
#X text 669 1271 < store last note to send note off on next note, f 18;
#X msg 621 1113 0;
#X obj 523 1198 t l b, f 20;
#X obj 652 704 sel 0;
#X obj 652 673 change;
#X text 700 700 < send note off when under thresh, f 18;
#X obj 652 735 s \$0-noteoff;
#X text 499 1028 < scale offset;
#X obj 523 1225 s \$0-notepairout;
#X obj 639 1369 s \$0-notepairout;
#X obj 824 88 r \$0-notepairout;
#X obj 663 1237 r \$0-noteoff;
#N canvas 687 194 783 728 scalemaker 0;
#X obj 241 147 inlet;
#X obj 227 817 outlet;
#X msg 280 437 0 1 3 4 6 8 10;
#X obj 311 322 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 538 665 set;
#X floatatom 372 459 5 0 0 0 - - - 0;
#X obj 414 449 + 12;
#X obj 311 379 t b b;
#X obj 355 651 + 0;
#X msg 372 377 set 0;
#X obj 549 321 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X text 54 438 scale as semi-tone steps >;
#X msg 227 777 0 1 3 4 6 8 10 12 13 15 16 18 20 22 24 25 27 28 30 32 34 36 37 39 40 42 44 46;
#X floatatom 241 179 5 0 0 0 - - - 0;
#X obj 241 205 t b f b, f 52;
#X msg 415 479 set \$1;
#X msg 355 679 add2 \$1;
#X obj 121 316 list prepend set;
#X obj 121 346 list trim;
#X obj 310 284 until;
#X obj 278 576 bop.p.iter;
#N canvas 75 167 1325 640 scales 0;
#X obj 182 10 inlet;
#X obj 812 556 outlet;
#X msg 182 138 0 2 4 7 9;
#X msg 267 138 0 3 5 7 10;
#X msg 352 138 0 3 5 6 7 10;
#X obj 470 138 sel ionian dorian phrygian lydian mixolydian aeolian locrain, f 61;
#X obj 182 100 sel major-pentatonic minor-pentatonic blues;
#X msg 470 186 0 2 4 5 7 9 11;
#X msg 521 216 0 2 3 5 7 9 10;
#X msg 573 246 0 1 3 5 7 8 10;
#X msg 625 275 0 2 4 6 7 9 11;
#X msg 677 305 0 2 4 5 7 9 10;
#X msg 729 335 0 2 3 5 7 8 10;
#X msg 781 365 0 1 3 5 6 8 10;
#X obj 890 209 sel lydian-dominant diminished whole-tone altered;
#X msg 890 243 0 2 4 6 7 9 10;
#X msg 962 276 0 2 3 5 6 8 9 11;
#X msg 1035 310 0 2 4 6 8 10;
#X msg 1108 339 0 1 3 4 6 8 10;
#X connect 0 0 6 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 5 1 8 0;
#X connect 5 2 9 0;
#X connect 5 3 10 0;
#X connect 5 4 11 0;
#X connect 5 5 12 0;
#X connect 5 6 13 0;
#X connect 5 7 14 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 6 2 4 0;
#X connect 6 3 5 0;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X connect 13 0 1 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 14 2 17 0;
#X connect 14 3 18 0;
#X connect 15 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 1 0;
#X restore 122 233 pd scales;
#X obj 81 47 inlet;
#X obj 81 113 t b s, f 8;
#X connect 0 0 13 0;
#X connect 2 0 20 0;
#X connect 3 0 7 0;
#X connect 4 0 12 0;
#X connect 5 0 6 0;
#X connect 5 0 8 1;
#X connect 6 0 15 0;
#X connect 7 0 2 0;
#X connect 7 1 5 0;
#X connect 8 0 16 0;
#X connect 9 0 5 0;
#X connect 10 0 4 0;
#X connect 10 0 9 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 14 0 12 0;
#X connect 14 1 19 0;
#X connect 14 2 10 0;
#X connect 15 0 5 0;
#X connect 16 0 12 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X connect 19 0 3 0;
#X connect 20 0 8 0;
#X connect 21 0 17 0;
#X connect 22 0 23 0;
#X connect 23 0 13 0;
#X connect 23 1 21 0;
#X restore 241 543 pd scalemaker;
#X obj 280 632 s \$0-numnotes;
#X obj 549 460 r \$0-numnotes;
#X text 71 777 scale as semi-tone steps >;
#X obj 462 1055 t f f b, f 21;
#X obj 438 554 t f f, f 31;
#X obj 319 871 s \$0-scalelist;
#X obj 651 92 r \$0-scalelist;
#X obj 988 601 s \$0-getscale;
#X obj 988 571 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 146 659 r \$0-getscale;
#X obj 241 578 t b l l;
#X obj 988 511 r from-scale-id-\$0;
#X obj 988 541 change;
#X text 49 838 TODO: this is causing double outputs due to the scale-name-slider and scale-id, f 29;
#X obj 462 1028 + 60;
#X msg 462 1226 set \$1;
#X msg 621 1053 set \$1;
#X obj 271 473 int;
#X obj 271 503 change;
#X obj 651 132 list prepend notelist;
#X obj 651 164 list trim;
#X obj 260 661 list prepend set;
#X obj 260 692 list trim;
#X obj 280 608 list length;
#X obj 240 927 list store;
#X msg 639 1330 \$1 0;
#X obj 438 523 bop.p.scale 0 1 0 5;
#X obj 461 1000 bop.p.nth;
#X obj 110 120 bop.p.param \$0 noteslider;
#X obj 110 150 bop.p.number \$0 octaves;
#X obj 659 240 r \$0-get-noteslider;
#X obj 666 273 r \$0-get-scale;
#X obj 666 304 r \$0-get-octaves;
#X obj 438 423 r \$0-get-noteslider;
#X obj 271 443 r \$0-get-octaves;
#X obj 759 272 r \$0-get-scale-enum;
#X obj 110 170 bop.p.number \$0 scale;
#X obj 241 411 r \$0-get-scale-enum;
#X obj 110 191 bop.p.enum \$0 scale;
#X obj 329 194 s \$0-set-scale-enum;
#X obj 330 101 loadbang;
#X msg 330 127 major-pentatonic minor-pentatonic blues ionian dorian phygian lydian mixolydian aeolian locrian lydian-dominant diminished whole-tone altered, f 41;
#X connect 1 0 10 0;
#X connect 2 0 1 0;
#X connect 5 0 52 4;
#X connect 6 0 7 0;
#X connect 7 0 17 0;
#X connect 7 0 42 0;
#X connect 9 0 31 0;
#X connect 9 0 50 0;
#X connect 10 0 9 0;
#X connect 10 1 53 1;
#X connect 11 0 15 0;
#X connect 12 0 51 0;
#X connect 14 0 11 1;
#X connect 15 0 21 0;
#X connect 15 1 12 0;
#X connect 16 0 19 0;
#X connect 17 0 16 0;
#X connect 23 0 0 0;
#X connect 24 0 12 0;
#X connect 25 0 36 0;
#X connect 27 0 5 0;
#X connect 29 0 41 0;
#X connect 29 1 11 0;
#X connect 29 2 14 0;
#X connect 30 0 2 0;
#X connect 30 1 6 0;
#X connect 32 0 45 0;
#X connect 34 0 33 0;
#X connect 35 0 9 0;
#X connect 36 0 9 0;
#X connect 36 1 47 0;
#X connect 36 2 49 0;
#X connect 37 0 38 0;
#X connect 38 0 34 0;
#X connect 40 0 29 0;
#X connect 41 0 12 0;
#X connect 42 0 14 0;
#X connect 43 0 44 0;
#X connect 44 0 25 1;
#X connect 45 0 46 0;
#X connect 47 0 48 0;
#X connect 48 0 9 0;
#X connect 49 0 26 0;
#X connect 50 0 53 0;
#X connect 51 0 22 0;
#X connect 52 0 30 0;
#X connect 53 0 40 0;
#X connect 59 0 52 0;
#X connect 60 0 43 0;
#X connect 63 0 25 0;
#X connect 66 0 67 0;
#X connect 67 0 65 0;
#X coords 0 -1 1 1 166 115 1 100 100;
